!function(e,t){"function"==typeof define&&define.amd?define(["underscore","backbone","backbone-forms","bootstrap-typeahead"],t):"object"==typeof exports?module.exports=t(require("underscore"),require("backbone"),require("backbone-forms"),require("bootstrap-typeahead")):e.bbf_typeahead=t(e._,e.Backbone,e.Backbone.Forms,e.ta)}(this,function(e,t,i,n){var s,r,o;return r=t.Form,s=r.editors.Base,o=r.editors.Text,r.editors["bootstrap.typeahead"]=o.extend({initialize:function(t){if(s.prototype.initialize.call(this,t),e.bindAll(this,"renderOptions"),this.$el.attr({type:"text","data-provide":"typeahead"}),!this.schema||!this.schema.options)throw"Missing required 'schema.options'"},render:function(){return this.setValue(this.value),this.setOptions(this.schema.options),this},setOptions:function(i){switch(!1){case!(i instanceof t.Collection):i.length>0?this.renderOptions(i):i.fetch({success:this.renderOptions});break;case!e.isFunction(i):i(this.renderOptions);break;default:this.renderOptions(i)}},renderOptions:function(i){var n;n=function(){switch(!1){case!e.isArray(i):return i;case!(i instanceof t.Collection):return i.reduce(function(e,t){return e.push(t.toString()),e},[])}}(),this.$el.data({items:n.length,source:"["+n.map(function(e){return'"'+e+'"'}).toString()+"]"}),this.setValue(this.value)}}),null});