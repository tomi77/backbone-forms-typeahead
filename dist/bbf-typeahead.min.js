var Base,Form,Text;Form=Backbone.Form,Base=Form.editors.Base,Text=Form.editors.Text,Form.editors["bootstrap.typeahead"]=Text.extend({initialize:function(t){if(Base.prototype.initialize.call(this,t),_.bindAll(this,"renderOptions"),this.$el.attr({type:"text","data-provide":"typeahead"}),!this.schema||!this.schema.options)throw"Missing required 'schema.options'"},render:function(){return this.setValue(this.value),this.setOptions(this.schema.options),this},setOptions:function(t){switch(!1){case!(t instanceof Backbone.Collection):t.length>0?this.renderOptions(t):t.fetch({success:this.renderOptions});break;case!_.isFunction(t):t(this.renderOptions);break;default:this.renderOptions(t)}},renderOptions:function(t){var e;e=function(){switch(!1){case!_.isArray(t):return t;case!(t instanceof Backbone.Collection):return t.reduce(function(t,e){return t.push(e.toString()),t},[])}}(),this.$el.data({items:e.length,source:"["+e.map(function(t){return'"'+t+'"'}).toString()+"]"}),this.setValue(this.value)}});