<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Backbone-Forms typeahead.js editor example</title>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript"
            src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
    <script type="text/javascript"
            src="//cdnjs.cloudflare.com/ajax/libs/backbone-forms/0.14.0/backbone-forms.min.js"></script>
    <script type="text/javascript"
            src="//cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.11.1/typeahead.bundle.min.js"></script>
    <script type="text/javascript">
        var substringMatcher = function (strs) {
            return function findMatches(q, cb) {
                var matches, substringRegex;

                // an array that will be populated with substring matches
                matches = [];

                // regex used to determine if a string contains the substring `q`
                substrRegex = new RegExp(q, 'i');

                // iterate through the pool of strings and for any string that
                // contains the substring `q`, add it to the `matches` array
                $.each(strs, function (i, str) {
                    if (substrRegex.test(str)) {
                        matches.push(str);
                    }
                });

                cb(matches);
            };
        };
        var example = function () {
            var Model = Backbone.Model.extend({
                schema: {
                    name: {
                        type: 'Text',
                        title: 'Name'
                    }
                }
            });
            var model = new Model({name: 'val1'});
            var form = new Backbone.Form({
                model: model
            });
            $('#form').html(form.render().$el);
            form.$('input[name="name"]').typeahead({}, {
                source: substringMatcher(['val1', 'val2', 'val3', 'example', 'test'])
            });
        };
        document.addEventListener("DOMContentLoaded", example, false);
        window.addEventListener("load", example, false);
    </script>
</head>
<body>
<div id="form"></div>
</body>
</html>